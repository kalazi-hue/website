(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-movie-index"],{"1e0b":function(t,i,e){"use strict";e.r(i);var a=e("9453"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"42f6":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,"\nuni-page-body[data-v-2988390a]{width:100%;min-height:100%;display:-webkit-box;display:-webkit-flex;display:flex}\n.tabs[data-v-2988390a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;\n}.tab-bar[data-v-2988390a]{\r\n\r\nheight:42px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\r\n\t/* background-color: #4d4d4d; */}\n.tab-bar[data-v-2988390a] ::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}\n.scroll-view-indicator[data-v-2988390a]{position:relative;height:2px;background-color:transparent}.scroll-view-underline[data-v-2988390a]{position:absolute;top:0;bottom:0;width:0;background-color:#007aff}.scroll-view-animation[data-v-2988390a]{-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:left;transition-property:left}.tab-box[data-v-2988390a]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.uni-tab-item[data-v-2988390a]{\r\ndisplay:inline-block;\r\n-webkit-flex-wrap:nowrap;flex-wrap:nowrap;padding-left:20px;padding-right:20px}.uni-tab-item-title[data-v-2988390a]{font-size:15px;height:40px;line-height:40px;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;opacity:.6}.uni-tab-item-title-active[data-v-2988390a]{opacity:1}.swiper-item[data-v-2988390a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.page-item[data-v-2988390a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;position:absolute;left:0;top:0;right:0;bottom:0}",""]),t.exports=i},"6cbe":function(t,i,e){"use strict";(function(t){var a=e("4ea4");e("99af"),e("a9e3"),e("d3b7"),e("25f0"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,o=a(e("ade3")),r=(e("685a"),a(e("ec6a"))),s=a(e("fed4")),l=a(e("25be")),d=a(e("a6dd")),c=a(e("9762")),f=a(e("71a8")),b=a(e("285c")),u=a(e("047b")),h=a(e("4158")),p={components:{uniList:s.default,uniCell:l.default,uniRefresh:d.default,uniLoadMore:c.default,noData:f.default,newsItem:b.default,tagList:u.default,videoListLoading:h.default},props:{nid:{type:[Number,String],default:""},pname:{type:[String],default:""}},data:function(){var t;return t={dataList:[],navigateFlag:!1,pulling:!1,refreshing:!1,refreshFlag:!1,refreshText:"",isLoading:!1,loadingText:"加载中...",isNoData:!1},(0,o.default)(t,"pulling",!1),(0,o.default)(t,"angle",0),(0,o.default)(t,"pageTitle",""),(0,o.default)(t,"loadingMoreText",{contentdown:"",contentrefresh:"",contentnomore:""}),(0,o.default)(t,"refreshIcon","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="),t},created:function(){n=this,this.pageTitle=this.pname,"最新"===this.pageTitle&&(this.pageTitle=""),this.pullTimer=null,this.requestParams={page:1,pageSize:10,typeId:this.pageTitle}},methods:{loadData:function(i){var e=this;if(!this.isLoading){this.isLoading=!0,this.isNoData=!1,uni.request({method:"GET",url:"".concat(r.default.configApi,"/movie/getMovieListByTypeId"),data:this.requestParams,success:function(t){var a=t.data.data.list;if(a.length<=0)return e.isLoading=!1,e.refreshing=!1,e.loadingText="没有更多了",!1;i?(e.requestParams.page=1,e.dataList=a):(e.dataList=e.dataList.concat(a),e.requestParams.page++),e.isLoading=!1,e.refreshing=!1,uni.hideKeyboard()},fail:function(i){t.log(i),0==n.dataList.length&&(n.isNoData=!0),uni.hideKeyboard()},complete:function(t){n.isLoading=!1,i&&(n.refreshing=!1,n.refreshFlag=!1,n.refreshText="已刷新",n.pullTimer&&clearTimeout(n.pullTimer),n.pullTimer=setTimeout((function(){n.pulling=!1}),1e3))}})}},loadMore:function(t){this.loadData()},clear:function(){this.dataList.length=0,this.requestParams.minId=0},goDetail:function(t){uni.navigateTo({url:"/pages/movie/detail?videoId="+t})},refreshData:function(){this.isLoading||(this.pulling=!0,this.refreshing=!0,this.refreshText="正在刷新...",this.loadData(!0))},onrefresh:function(t){this.refreshData()},onpullingdown:function(t){this.refreshing||(this.pulling=!1,Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(this.refreshFlag=!0,this.refreshText="释放立即刷新"):(this.refreshFlag=!1,this.refreshText="下拉可以刷新"))},newGuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toUpperCase()}}};i.default=p}).call(this,e("5a52")["default"])},"731b":function(t,i,e){"use strict";e.r(i);var a=e("9274"),n=e("b6a4");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("c8e7");var r,s=e("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"c1643b00",null,!1,a["a"],r);i["default"]=l.exports},"7cae":function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"tabs"},[e("v-uni-scroll-view",{ref:"tabbar1",staticClass:"tab-bar",attrs:{id:"tab-bar",scroll:!1,"scroll-x":!0,"show-scrollbar":!1,"scroll-into-view":t.scrollInto}},[e("v-uni-view",{staticStyle:{"flex-direction":"column"}},[e("v-uni-view",{staticStyle:{"flex-direction":"row","justify-content":"space-between"}},t._l(t.tabList,(function(i,a){return e("v-uni-view",{key:i.id,ref:"tabitem"+a,refInFor:!0,staticClass:"uni-tab-item",attrs:{id:i.id,"data-id":a,"data-current":a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.ontabtap.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"uni-tab-item-title",class:t.tabIndex==a?"uni-tab-item-title-active":""},[t._v(t._s(i.name))])],1)})),1),e("v-uni-view",{staticClass:"scroll-view-indicator"},[e("v-uni-view",{ref:"underline",staticClass:"scroll-view-underline",class:t.isTap?"scroll-view-animation":"",style:{left:t.indicatorLineLeft+"px",width:t.indicatorLineWidth+"px"}})],1)],1)],1),e("v-uni-view",{staticClass:"tab-bar-line"}),e("v-uni-swiper",{ref:"swiper1",staticClass:"tab-box",attrs:{current:t.tabIndex,duration:300},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.onswiperchange.apply(void 0,arguments)},transition:function(i){arguments[0]=i=t.$handleEvent(i),t.onswiperscroll.apply(void 0,arguments)},animationfinish:function(i){arguments[0]=i=t.$handleEvent(i),t.animationfinish.apply(void 0,arguments)},onAnimationEnd:function(i){arguments[0]=i=t.$handleEvent(i),t.animationfinish.apply(void 0,arguments)}}},t._l(t.tabList,(function(t,i){return e("v-uni-swiper-item",{key:i,staticClass:"swiper-item"},[e("newsPage",{ref:"page",refInFor:!0,staticClass:"page-item",attrs:{nid:t.newsid,pname:t.name}})],1)})),1),e("unidrawer",{ref:"draw",attrs:{mask:t.mask,width:t.drawWid,mode:t.mode}},[e("v-uni-image",{staticStyle:{width:"60rpx",height:"60rpx",position:"absolute",left:"160px",top:"30rpx","z-index":"99"},attrs:{src:"/static/images/icons/ico-close.png",mode:"widthFix"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeDrawer()}}}),e("leftMenu")],1)],1)},o=[]},9274:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"page-news"},[e("uni-list",{staticClass:"listview",attrs:{enableBackToTop:!0,"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.loadMore()}}},[e("uni-refresh",{staticClass:"refresh",attrs:{display:t.refreshing?"show":"hide"},on:{refresh:function(i){arguments[0]=i=t.$handleEvent(i),t.onrefresh.apply(void 0,arguments)},pullingdown:function(i){arguments[0]=i=t.$handleEvent(i),t.onpullingdown.apply(void 0,arguments)}}},[e("div",{staticClass:"refresh-view"},[e("v-uni-image",{staticClass:"refresh-icon",class:{"refresh-icon-active":t.refreshFlag},style:{width:t.refreshing||t.pulling?0:"32px"},attrs:{src:t.refreshIcon}}),t.refreshing?e("uni-load-more",{staticClass:"loading-icon",attrs:{status:"loading",contentText:t.loadingMoreText}}):t._e(),e("v-uni-text",{staticClass:"loading-text"},[t._v(t._s(t.refreshText))])],1)]),e("uni-cell",[e("tagList")],1),e("uni-cell",[e("v-uni-view",{staticClass:"page-title"},[e("v-uni-text",{staticClass:"title-txt"},[t._v(t._s(t.pageTitle)+"列表")]),e("v-uni-image",{staticClass:"page-title-icons",staticStyle:{width:"90px",height:"4px"},attrs:{src:"/static/images/icons/bg-video.png",mode:"widthFix"}})],1)],1),t.dataList.length>0?e("uni-cell",{staticClass:"video-list"},t._l(t.dataList,(function(i,a){return e("v-uni-view",{key:i.ID,staticClass:"list-item",class:{"list-item-even":a%2===0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetail(i.ID)}}},[e("news-item",{attrs:{newsItem:i}})],1)})),1):t._e(),e("uni-cell",[t.dataList.length<=0?e("videoListLoading"):t._e()],1),e("uni-cell",{staticClass:"video-list"},t._l(t.dataList,(function(i,a){return e("v-uni-view",{key:i.ID,staticClass:"list-item",class:{"list-item-even":a%2===0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetail(i.ID)}}},[e("news-item",{attrs:{newsItem:i}})],1)})),1),t.isLoading||t.dataList.length>4?e("uni-cell",[e("v-uni-view",{staticClass:"loading-more"},[e("v-uni-text",{staticClass:"loading-more-text"},[t._v(t._s(t.loadingText))])],1)],1):t._e()],1),t.isNoData?e("no-data",{staticClass:"no-data",on:{retry:function(i){arguments[0]=i=t.$handleEvent(i),t.loadMore.apply(void 0,arguments)}}}):t._e()],1)},o=[]},9430:function(t,i,e){var a=e("42f6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("73db4f8b",a,!0,{sourceMap:!1,shadowMode:!1})},9453:function(t,i,e){"use strict";(function(t){var a=e("4ea4");e("4160"),e("c975"),e("a434"),e("ac1f"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("731b")),o=(a(e("acec")),a(e("2b6b"))),r=a(e("6e71")),s=100,l=3,d=1,c={components:{newsPage:n.default,unidrawer:o.default,leftMenu:r.default},data:function(){return{mask:!0,left:"left",drawWid:200,maskClick:!0,mode:"left",tabList:[{id:"tab01",name:"最新",newsid:0},{id:"tab02",name:"国产",newsid:1},{id:"tab03",name:"日韩",newsid:2},{id:"tab04",name:"欧美",newsid:3},{id:"tab05",name:"动漫",newsid:4}],tabIndex:0,cacheTab:[],scrollInto:"",navigateFlag:!1,indicatorLineLeft:0,indicatorLineWidth:0,isTap:!1}},onReady:function(){this._lastTabIndex=0,this.swiperWidth=0,this.tabbarWidth=0,this.tabListSize={},this._touchTabIndex=0,this.pageList=this.$refs.page,this.switchTab(this.tabIndex),this.selectorQuery()},methods:{openDrawer:function(){t.log(this.$refs.draw),this.$refs.draw.open()},closeDrawer:function(){this.$refs.draw.close()},ontabtap:function(t){var i=t.target.dataset.current||t.currentTarget.dataset.current;this.isTap=!0;var e=this.tabListSize[i];this.updateIndicator(e.left,e.width),this._touchTabIndex=i,this.switchTab(i)},onswiperchange:function(t){},onswiperscroll:function(t){if(!this.isTap){var i=t.detail.dx,e=this._lastTabIndex;if(i>d?e++:i<-d&&e--,!(e===this._lastTabIndex||e<0||e>this.pageList.length-1)){0===this.pageList[e].dataList.length&&this.loadTabData(e);var a=Math.abs(this.swiperWidth/i),n=this.tabListSize[this._lastTabIndex],o=this.tabListSize[e],r=n.left+(o.left-n.left)/a,s=n.width+(o.width-n.width)/a;this.updateIndicator(r,s)}}},animationfinish:function(t){var i=t.detail.current;this._touchTabIndex===i&&(this.isTap=!1),this._lastTabIndex=i,this.switchTab(i),this.updateIndicator(this.tabListSize[i].left,this.tabListSize[i].width)},selectorQuery:function(){var t=this;uni.createSelectorQuery().in(this).select(".tab-box").fields({dataset:!0,size:!0},(function(i){t.swiperWidth=i.width})).exec(),uni.createSelectorQuery().in(this).selectAll(".uni-tab-item").boundingClientRect((function(i){i.forEach((function(i){t.tabListSize[i.dataset.id]=i})),t.updateIndicator(t.tabListSize[t.tabIndex].left,t.tabListSize[t.tabIndex].width)})).exec()},getElementSize:function(t,i,e){var a=this;t.getComponentRect(i,(function(t){a.tabListSize[e]=t.size}))},updateIndicator:function(t,i){this.indicatorLineLeft=t,this.indicatorLineWidth=i},switchTab:function(t){if(0===this.pageList[t].dataList.length&&this.loadTabData(t),this.tabIndex!==t){if(this.pageList[this.tabIndex].dataList.length>s){var i=this.cacheTab.indexOf(this.tabIndex);i<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabList[t].id,this.cacheTab.length>l){var e=this.cacheTab[0];this.clearTabData(e),this.cacheTab.splice(0,1)}}},scrollTabTo:function(t){var i=this.$refs["tabitem"+t][0],e=0;t>0&&(e=this.tabbarWidth/2-this.tabListSize[t].width/2,this.tabListSize[t].right<this.tabbarWidth/2&&(e=this.tabListSize[0].width)),dom.scrollToElement(i,{offset:-e})},loadTabData:function(t){this.pageList[t].loadData()},clearTabData:function(t){this.pageList[t].clear()}},onNavigationBarButtonTap:function(i){t.log("点击了自定义按钮",i.index);var e=this;0===i.index?e.openDrawer():1===i.index&&uni.navigateTo({url:"/pages/movie/search"})}};i.default=c}).call(this,e("5a52")["default"])},b210:function(t,i,e){"use strict";e.r(i);var a=e("7cae"),n=e("1e0b");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("c992");var r,s=e("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"2988390a",null,!1,a["a"],r);i["default"]=l.exports},b6a4:function(t,i,e){"use strict";e.r(i);var a=e("6cbe"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},c8e7:function(t,i,e){"use strict";var a=e("ef70"),n=e.n(a);n.a},c992:function(t,i,e){"use strict";var a=e("9430"),n=e.n(a);n.a},ddae:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".iconfont[data-v-c1643b00]{font-family:iconfont!important;font-size:16px;font-style:normal;\r\n-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale\n}.video-list[data-v-c1643b00]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-right:%?-30?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:%?30?% 0}.list-item[data-v-c1643b00]{width:%?330?%}.list-item-even[data-v-c1643b00]{margin:0 %?30?% %?30?% %?30?%}.list-top[data-v-c1643b00]{height:%?222?%;-webkit-border-radius:5px;border-radius:5px;position:relative!important}.list-img[data-v-c1643b00]{width:%?330?%;height:%?222?%;-webkit-border-radius:5px;border-radius:5px}.list-title[data-v-c1643b00]{margin:%?10?% 0 %?20?% 0;\t\r\nwhite-space:nowrap;\r\noverflow:hidden;font-size:%?28?%;\r\n\r\ntext-overflow:ellipsis}.shadow[data-v-c1643b00]{background-image:url(/static/images/shadow.png);position:absolute!important;bottom:0;width:%?330?%;height:%?50?%}.list-date[data-v-c1643b00]{font-size:%?24?%;position:absolute;bottom:%?10?%;right:%?20?%;opacity:.8}.list-bottom[data-v-c1643b00]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-webkit-flex-direction:row!important;flex-direction:row!important;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-playCount[data-v-c1643b00],\r\n.list-star[data-v-c1643b00]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ico-eye[data-v-c1643b00]{width:%?38?%;margin-right:%?10?%}.ico-like[data-v-c1643b00]{width:%?24?%;margin-right:%?10?%}.text-views[data-v-c1643b00]{font-size:%?24?%;color:#999}.no-data[data-v-c1643b00]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:absolute;left:0;top:0;right:0;bottom:0;z-index:10}.page-news[data-v-c1643b00]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:absolute;left:0;top:0;right:0;bottom:0}.listview[data-v-c1643b00]{position:absolute;left:0;top:0;right:0;bottom:0;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\n\r\nflex-direction:column\n}.refresh[data-v-c1643b00]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-c1643b00]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\nwidth:%?750?%;height:64px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-c1643b00]{width:32px;height:32px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-c1643b00]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-c1643b00]{width:28px;height:28px;margin-right:5px;color:grey}.loading-text[data-v-c1643b00]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-c1643b00]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:14px;padding-bottom:14px;text-align:center}.loading-more-text[data-v-c1643b00]{font-size:%?28?%;color:#999}",""]),t.exports=i},ef70:function(t,i,e){var a=e("ddae");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("4d12b740",a,!0,{sourceMap:!1,shadowMode:!1})}}]);