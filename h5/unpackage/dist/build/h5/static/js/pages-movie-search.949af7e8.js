(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-movie-search"],{"37bb":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".iconfont[data-v-5ffe168d]{font-family:iconfont!important;font-size:16px;font-style:normal;\r\n-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale\n}.video-list[data-v-5ffe168d]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-right:%?-30?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:%?30?% 0}.list-item[data-v-5ffe168d]{width:%?330?%}.list-item-even[data-v-5ffe168d]{margin:0 %?30?% %?30?% %?30?%}.list-top[data-v-5ffe168d]{height:%?222?%;-webkit-border-radius:5px;border-radius:5px;position:relative!important}.list-img[data-v-5ffe168d]{width:%?330?%;height:%?222?%;-webkit-border-radius:5px;border-radius:5px}.list-title[data-v-5ffe168d]{margin:%?10?% 0 %?20?% 0;\t\r\nwhite-space:nowrap;\r\noverflow:hidden;font-size:%?28?%;\r\n\r\ntext-overflow:ellipsis}.shadow[data-v-5ffe168d]{background-image:url(/static/images/shadow.png);position:absolute!important;bottom:0;width:%?330?%;height:%?50?%}.list-date[data-v-5ffe168d]{font-size:%?24?%;position:absolute;bottom:%?10?%;right:%?20?%;opacity:.8}.list-bottom[data-v-5ffe168d]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-webkit-flex-direction:row!important;flex-direction:row!important;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-playCount[data-v-5ffe168d],\r\n.list-star[data-v-5ffe168d]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ico-eye[data-v-5ffe168d]{width:%?38?%;margin-right:%?10?%}.ico-like[data-v-5ffe168d]{width:%?24?%;margin-right:%?10?%}.text-views[data-v-5ffe168d]{font-size:%?24?%;color:#999}.no-data[data-v-5ffe168d]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:absolute;left:0;top:0;right:0;bottom:0;z-index:10}.page-news[data-v-5ffe168d]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:absolute;left:0;top:0;right:0;bottom:0}.listview[data-v-5ffe168d]{position:absolute;left:0;top:0;right:0;bottom:0;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\n\r\nflex-direction:column\n}.refresh[data-v-5ffe168d]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-5ffe168d]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\nwidth:%?750?%;height:64px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-5ffe168d]{width:32px;height:32px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-5ffe168d]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-5ffe168d]{width:28px;height:28px;margin-right:5px;color:grey}.loading-text[data-v-5ffe168d]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-5ffe168d]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:14px;padding-bottom:14px;text-align:center}.loading-more-text[data-v-5ffe168d]{font-size:%?28?%;color:#999}.result[data-v-5ffe168d]{margin:%?30?% 0 0 %?30?%}",""]),t.exports=e},4158:function(t,e,i){"use strict";var a;i.r(e);var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"video-list"},t._l(6,(function(t,e){return i("v-uni-view",{key:e,staticClass:"list-item",class:{"list-item-even":e%2===0}},[i("v-uni-view",{staticClass:"list-top"},[i("v-uni-image",{staticClass:"list-img",attrs:{src:"",mode:"scaleToFill"}}),i("v-uni-view",{staticClass:"shadow"}),i("v-uni-text",{staticClass:"list-date"})],1),i("v-uni-view",{staticClass:"list-title list-title-loading"}),i("v-uni-view",{staticClass:"list-bottom list-bottom-loading"})],1)})),1)},r=[],s=(i("fe05"),i("f0c5")),l={},d=Object(s["a"])(l,o,r,!1,null,"667580c1",null,!1,a,n);e["default"]=d.exports},5685:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".iconfont[data-v-667580c1]{font-family:iconfont!important;font-size:16px;font-style:normal;\r\n-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale\n}.video-list[data-v-667580c1]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-right:%?-30?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:%?30?% 0}.list-item[data-v-667580c1]{width:%?330?%}.list-item-even[data-v-667580c1]{margin:0 %?30?% %?30?% %?30?%}.list-top[data-v-667580c1]{height:%?222?%;-webkit-border-radius:5px;border-radius:5px;position:relative!important}.list-img[data-v-667580c1]{width:%?330?%;height:%?222?%;-webkit-border-radius:5px;border-radius:5px}.list-title[data-v-667580c1]{margin:%?10?% 0 %?20?% 0;\t\r\nwhite-space:nowrap;\r\noverflow:hidden;font-size:%?28?%;\r\n\r\ntext-overflow:ellipsis}.shadow[data-v-667580c1]{background-image:url(/static/images/shadow.png);position:absolute!important;bottom:0;width:%?330?%;height:%?50?%}.list-date[data-v-667580c1]{font-size:%?24?%;position:absolute;bottom:%?10?%;right:%?20?%;opacity:.8}.list-bottom[data-v-667580c1]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-webkit-flex-direction:row!important;flex-direction:row!important;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-playCount[data-v-667580c1],\r\n.list-star[data-v-667580c1]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ico-eye[data-v-667580c1]{width:%?38?%;margin-right:%?10?%}.ico-like[data-v-667580c1]{width:%?24?%;margin-right:%?10?%}.text-views[data-v-667580c1]{font-size:%?24?%;color:#999}.list-bottom-loading[data-v-667580c1]{height:%?40?%}.list-title-loading[data-v-667580c1]{margin-top:0}.page-title[data-v-667580c1]{margin-left:%?30?%}",""]),t.exports=e},6860:function(t,e,i){var a=i("5685");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8613cfea",a,!0,{sourceMap:!1,shadowMode:!1})},dbd7:function(t,e,i){var a=i("37bb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("191c3e3a",a,!0,{sourceMap:!1,shadowMode:!1})},dede:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page-news"},[i("uni-list",{staticClass:"listview",attrs:{enableBackToTop:!0,"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore()}}},[i("uni-refresh",{staticClass:"refresh",attrs:{display:t.refreshing?"show":"hide"},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onrefresh.apply(void 0,arguments)},pullingdown:function(e){arguments[0]=e=t.$handleEvent(e),t.onpullingdown.apply(void 0,arguments)}}},[i("div",{staticClass:"refresh-view"},[i("v-uni-image",{staticClass:"refresh-icon",class:{"refresh-icon-active":t.refreshFlag},style:{width:t.refreshing||t.pulling?0:"32px"},attrs:{src:t.refreshIcon}}),t.refreshing?i("uni-load-more",{staticClass:"loading-icon",attrs:{status:"loading",contentText:t.loadingMoreText}}):t._e(),i("v-uni-text",{staticClass:"loading-text"},[t._v(t._s(t.refreshText))])],1)]),i("uni-cell",{staticClass:"result-list"},[t.dataList.length<=0?i("tagList"):t._e(),t.dataList.length>0?i("v-uni-text",{staticClass:"result"},[t._v("共搜索到"+t._s(t.dataList.length)+"条结果")]):t._e()],1),t.dataList.length>0?i("uni-cell",{staticClass:"video-list"},t._l(t.dataList,(function(e,a){return i("v-uni-view",{key:e.ID,staticClass:"list-item",class:{"list-item-even":a%2===0},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e)}}},[i("news-item",{attrs:{newsItem:e}})],1)})),1):t._e(),t.dataList.length<=0?i("videoListLoading"):t._e(),t.isLoading||t.dataList.length>4?i("uni-cell",[i("v-uni-view",{staticClass:"loading-more"},[i("v-uni-text",{staticClass:"loading-more-text"},[t._v(t._s(t.loadingText))])],1)],1):t._e()],1),t.isNoData?i("no-data",{staticClass:"no-data",on:{retry:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}}):t._e()],1)},o=[]},ea4f:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("99af"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=a(i("ade3")),r=(i("685a"),a(i("ec6a"))),s=a(i("fed4")),l=a(i("25be")),d=a(i("a6dd")),f=a(i("9762")),c=a(i("71a8")),u=a(i("285c")),g=a(i("047b")),p=a(i("4158")),w={components:{uniList:s.default,uniCell:l.default,uniRefresh:d.default,uniLoadMore:f.default,noData:c.default,newsItem:u.default,tagList:g.default,videoListLoading:p.default},props:{nid:{type:[Number,String],default:"1"}},data:function(){var t;return t={tag:"",inputValue:"",dataList:[],navigateFlag:!1,pulling:!1,refreshing:!1,refreshFlag:!1,refreshText:"",isLoading:!1,loadingText:"加载中...",isNoData:!1},(0,o.default)(t,"pulling",!1),(0,o.default)(t,"angle",0),(0,o.default)(t,"requestParams",{page:1,pageSize:10}),(0,o.default)(t,"loadingMoreText",{contentdown:"",contentrefresh:"",contentnomore:""}),(0,o.default)(t,"refreshIcon","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="),t},created:function(){n=this,this.pullTimer=null},onLoad:function(t){t.tag?(this.tag=t.tag,this.loadData(!0,"getMovieListByTag")):t.keyword&&(this.inputValue=t.keyword,this.loadData(!0,"getMovieListByKeyword"))},methods:{loadData:function(e,i){var a=this;if(uni.showLoading({title:"搜索中..."}),!this.isLoading){if(this.isLoading=!0,this.isNoData=!1,"getMovieListByKeyword"===i)this.requestParams.keyword=this.inputValue;else{if("getMovieListByTag"!==i)return!1;this.requestParams.tags=this.tag}uni.request({method:"GET",url:"".concat(r.default.configApi,"/movie/").concat(i),data:this.requestParams,success:function(t){var i=t.data.data.list;if(i.length<=0)return a.isLoading=!1,a.refreshing=!1,a.loadingText="没有更多了",!1;e?(a.requestParams.page=1,a.dataList=i):(a.dataList=a.dataList.concat(i),a.requestParams.page++),a.isLoading=!1,a.refreshing=!1,uni.hideKeyboard(),0==n.dataList.length&&(n.isNoData=!0),uni.hideLoading()},fail:function(e){t.log(e),0==n.dataList.length&&(n.isNoData=!0),uni.hideKeyboard()},complete:function(t){n.isLoading=!1,uni.hideLoading(),e&&(n.refreshing=!1,n.refreshFlag=!1,n.refreshText="已刷新",n.pullTimer&&clearTimeout(n.pullTimer),n.pullTimer=setTimeout((function(){n.pulling=!1}),1e3))}})}},loadMore:function(t){this.loadData()},clear:function(){this.dataList.length=0,this.requestParams.minId=0},goDetail:function(e){t.log(JSON.stringify(e)),uni.navigateTo({url:"/pages/movie/detail?query="+JSON.stringify(e)})},refreshData:function(){this.isLoading||(this.pulling=!0,this.refreshing=!0,this.refreshText="正在刷新...",this.loadData(!0))},onrefresh:function(t){this.refreshData()},onpullingdown:function(t){this.refreshing||(this.pulling=!1,Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(this.refreshFlag=!0,this.refreshText="释放立即刷新"):(this.refreshFlag=!1,this.refreshText="下拉可以刷新"))}},onNavigationBarSearchInputChanged:function(t){this.inputValue=t.text},onNavigationBarSearchInputConfirmed:function(t){if(this.requestParams.page=1,!this.inputValue)return!1;this.loadData(!0,"getMovieListByKeyword")},onNavigationBarSearchInputClicked:function(t){}};e.default=w}).call(this,i("5a52")["default"])},ec6a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a="";a="https://niuniutv5.com/api";var n={configApi:a};e.default=n},eeab:function(t,e,i){"use strict";i.r(e);var a=i("dede"),n=i("f7e2");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("fa5c");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5ffe168d",null,!1,a["a"],r);e["default"]=l.exports},f7e2:function(t,e,i){"use strict";i.r(e);var a=i("ea4f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},fa5c:function(t,e,i){"use strict";var a=i("dbd7"),n=i.n(a);n.a},fe05:function(t,e,i){"use strict";var a=i("6860"),n=i.n(a);n.a}}]);